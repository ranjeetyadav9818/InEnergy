<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
>

    <p:dataTable value="#{locationSubmissionController.lazyLocationSubmissionStatusDataModelPending}" id="TbPending" widgetVar="custTableP" lazy="true" var="pend" reflow="true" rows="25" rowsPerPageTemplate="25,50,100" paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                 paginator="true" paginatorAlwaysVisible="false" rowKey="#{pend.uuid}" selectionMode="single">
        <p:ajax event="rowSelect" listener="#{locationSubmissionController.onSelectStatus}" update="form"/>
        <p:column headerText="SA ID"  filterBy="#{pend.programServiceAgreementEnrollment.serviceAgreement.serviceAgreementId}" field="programServiceAgreementEnrollment.serviceAgreement.serviceAgreementId" filterMatchMode="contains">
            <h:outputText value="#{pend.programServiceAgreementEnrollment.serviceAgreement.serviceAgreementId}" />
        </p:column>
        <p:column headerText="UU ID" filterBy="#{pend.programServiceAgreementEnrollment.serviceAgreement.saUuid}" field="programServiceAgreementEnrollment.serviceAgreement.saUuid" filterMatchMode="contains">
            <h:outputText value="#{pend.programServiceAgreementEnrollment.serviceAgreement.saUuid}"/>
        </p:column>
        <p:column headerText="Customer Name" filterBy="#{pend.programServiceAgreementEnrollment.serviceAgreement.account.person.customerName}" field="programServiceAgreementEnrollment.serviceAgreement.account.person.customerName" filterMatchMode="contains">
            <h:outputText value="#{pend.programServiceAgreementEnrollment.serviceAgreement.account.person.customerName}"/>
            <h:outputText value="#{pend.programServiceAgreementEnrollment.serviceAgreement.account.person.businessName}"/>
        </p:column>
        <p:column headerText="Service Address" filterBy="#{pend.programServiceAgreementEnrollment.serviceAgreement.agreementPointMaps}" field="programServiceAgreementEnrollment.serviceAgreement.agreementPointMaps" filterable="false">
            <h:outputText value="#{pend.programServiceAgreementEnrollment.serviceAgreement.agreementPointMaps[0].servicePoint.premise.serviceAddress1} "/>
        </p:column>
        <p:column headerText="City" filterBy="#{pend.programServiceAgreementEnrollment.serviceAgreement.agreementPointMaps}" field="programServiceAgreementEnrollment.serviceAgreement.agreementPointMaps" filterable="false">
            <h:outputText value="#{pend.programServiceAgreementEnrollment.serviceAgreement.agreementPointMaps[0].servicePoint.premise.serviceCityUpr} " />
        </p:column>
        <p:column headerText="Program" filterBy="#{pend.programServiceAgreementEnrollment.program.name}" field="programServiceAgreementEnrollment.program.name" filterMatchMode="contains">
            <h:outputText value="#{pend.programServiceAgreementEnrollment.program.name}"/>
        </p:column>
        <p:column headerText="#{msg['data.mapping.sublap']}" filterBy="#{pend.isoSublap}" field="isoSublap" filterMatchMode="contains">
            <h:outputText value="#{pend.isoSublap}"/>
        </p:column>
        <p:column headerText="LSE" filterBy="#{pend.isoLse}" field="isoLse" filterMatchMode="contains">
            <h:outputText value="#{pend.isoLse}"/>
        </p:column>
        <p:column headerText="Market Submission Date" filterBy="#{pend.isoSubmissionDate}" field="isoSubmissionDate" filterable="false" filterMatchMode="contains">
            <h:outputText value="#{pend.isoSubmissionDate}">
                <f:convertDateTime timeZone="America/Los_Angeles" pattern="MM/dd/yyyy h:mm a"/>
            </h:outputText>
        </p:column>
        <p:column headerText="Days Outstanding (BD)" filterBy="#{pend.isoSubmissionDate}" field="isoSubmissionDate" filterable="false" filterMatchMode="contains">
            <h:outputText value="#{pend.daysOutStanding()}"/>
        </p:column>
        <p:column headerText="Commodity"  filterBy="#{pend.programServiceAgreementEnrollment.serviceAgreement.commodity}" field="programServiceAgreementEnrollment.serviceAgreement.commodity" filterMatchMode="contains">
            <h:outputText value="#{pend.programServiceAgreementEnrollment.serviceAgreement.commodity}" />
        </p:column>
    </p:dataTable>

</ui:composition>