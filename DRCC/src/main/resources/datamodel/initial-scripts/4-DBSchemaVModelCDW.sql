-- MySQL Script generated by MySQL Workbench
-- Sun Jun 26 07:13:12 2016
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
-- -----------------------------------------------------
-- Schema drcc
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Table `PERSON`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `PERSON` (
  `PERSON_ID` VARCHAR(10) NOT NULL,
  `CUSTOMER_NAME` VARCHAR(255) NULL,
  `BUSINESS_NAME` VARCHAR(510) NULL,
  `PHONE_EXTENSION` VARCHAR(25) NULL,
  `BUS_OWNER` VARCHAR(1) NULL,
  PRIMARY KEY (`PERSON_ID`))
ENGINE = InnoDB DEFAULT CHARSET=utf8;


-- -----------------------------------------------------
-- Table `ACCOUNT`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `ACCOUNT` (
  `ACCOUNT_ID` VARCHAR(10) NOT NULL,
  `PERSON_ID` VARCHAR(10) NOT NULL,
  INDEX `fk_CUSTOMER_PERSON1_idx` (`PERSON_ID` ASC),
  PRIMARY KEY (`ACCOUNT_ID`),
  CONSTRAINT `fk_CUSTOMER_PERSON1`
    FOREIGN KEY (`PERSON_ID`)
    REFERENCES `PERSON` (`PERSON_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB DEFAULT CHARSET=utf8;


-- -----------------------------------------------------
-- Table `SERVICE_AGREEMENT`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SERVICE_AGREEMENT` (
  `SERVICE_AGREEMENT_ID` VARCHAR(10) NOT NULL,
  `SA_STATUS` VARCHAR(2) NULL,
  `DRUID` VARCHAR(45) NULL,
  `DRUID_CREATED` DATETIME NULL,
  `DRUID_WARNING` VARCHAR(45) NULL,
  `MAILING_ADDRESS1` VARCHAR(100) NULL,
  `MAILING_ADDRESS2` VARCHAR(100) NULL,
  `MAILING_CITY_UPR` VARCHAR(55) NULL,
  `MAILING_STATE` VARCHAR(2) NULL,
  `MAILING_POSTAL` VARCHAR(12) NULL,
  `PHONE` VARCHAR(20) NULL,
  `RATE_SCHEDULE` VARCHAR(10) NULL COMMENT 'RS_CD',
  `ACCOUNT_ID` VARCHAR(45) NOT NULL,
  `MEDICAL_BASELINE_IND` TINYINT(1) NOT NULL DEFAULT 0,
  `LIFE_SUPPORT_IND` TINYINT(1) NOT NULL DEFAULT 0,
  `SMART_RATE_IND` TINYINT(1) NOT NULL DEFAULT 0,
  `SR_START_DATE` DATETIME NULL,
  `SR_END_DATE` DATETIME NULL,
  `PDP_ENROLLED` TINYINT(1) NOT NULL DEFAULT 0,
  `PDP_STATUS` VARCHAR(10) NULL,
  `PDP_START_DATE` DATETIME NULL,
  `PDP_STOP_DATE` DATETIME NULL,
  `PDP_PLAN_OPTIONS` VARCHAR(45) NULL,
  `PDP_RESERVATION_CAPACITY_APPLIED_VALUE` VARCHAR(12) NULL,
  `HAS_3RD_PARTY_DRP` VARCHAR(1) NULL,
  `SUPPLIER_IS_DRP` TINYINT(1) NOT NULL DEFAULT 0,
  `UNIQ_SA_ID` VARCHAR(11) NULL,
  `UNIQ_SA_ID_CREATE_DATE` DATETIME NULL,
  `UNIQ_SA_ID_WARN_FLAG` VARCHAR(1) NULL,
  `SA_UUID` VARCHAR(11) NULL,
  `SA_START_DATE` DATETIME NULL,
  `SA_END_DATE` DATETIME NULL,
  `SA_NAICS` VARCHAR(17) NULL,
  `BILL_CYCLE_CD` VARCHAR(5) NULL,
  `CUST_CLASS_CD` VARCHAR(9) NULL,
  `REVENUE_CLASS_DESC` VARCHAR(41) NULL,
  `FERA_FLAG` TINYINT(1) NOT NULL DEFAULT 0,
  `BILL_SYSTEM` VARCHAR(11) NULL,
  `CUST_SIZE` VARCHAR(21) NULL,
  `MARKET_SEGMENT` VARCHAR(6) NULL,
  `CARE_FLAG` TINYINT(1) NOT NULL DEFAULT 0,
  `PDP_BILL_PROTECTION` TINYINT(1) NOT NULL DEFAULT 0,
  `SR_BILL_PROTECTION` TINYINT(1) NOT NULL DEFAULT 0,
  `SA_TYPE_CD` VARCHAR(9) NULL,
  `CUSTOMER_LSE_COMPANY_NAME` VARCHAR(257) NULL,
  `RATE_CODE_EFFECTIVE_DATE` DATETIME NULL,
  `BUSINESS_ACTIVITY_DESC` VARCHAR(255) NULL,
  `DIVISION_CODE_19` VARCHAR(4) NULL,
  `CLIMATE_ZONE` VARCHAR(6) NULL,
  `ESS_DIVISION_CODE` VARCHAR(4) NULL,
  PRIMARY KEY (`SERVICE_AGREEMENT_ID`),
  INDEX `fk_SERVICE_AGREEMENT_ACCOUNT1_idx` (`ACCOUNT_ID` ASC),
  CONSTRAINT `fk_SERVICE_AGREEMENT_ACCOUNT1`
    FOREIGN KEY (`ACCOUNT_ID`)
    REFERENCES `ACCOUNT` (`ACCOUNT_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB DEFAULT CHARSET=utf8;


-- -----------------------------------------------------
-- Table `PREMISE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `PREMISE` (
  `PREMISE_ID` VARCHAR(45) NOT NULL,
  `SERVICE_ADDRESS1` VARCHAR(100) NULL,
  `SERVICE_ADDRESS2` VARCHAR(100) NULL,
  `SERVICE_CITY_UPR` VARCHAR(55) NULL,
  `SERVICE_STATE` VARCHAR(2) NULL,
  `SERVICE_POSTAL` VARCHAR(12) NULL,
  `PREM_BASELINE_CHAR` VARCHAR(17) NULL,
  `COUNTY` VARCHAR(31) NULL,
  PRIMARY KEY (`PREMISE_ID`))
ENGINE = InnoDB DEFAULT CHARSET=utf8;


-- -----------------------------------------------------
-- Table `METER`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `METER` (
  `METER_ID` VARCHAR(45) NOT NULL,
  `MTR_BADGENBR` VARCHAR(31) NULL,
  `SM_STATUS` VARCHAR(61) NULL,
  `MTR_INSTALL_DT` DATETIME NULL,
  `MTR_UNINSTALL_DT` DATETIME NULL,
  `SM_MODULE_MFR` VARCHAR(9) NULL,
  `MTR_CONFIG_TYPE` VARCHAR(13) NULL,
  `MTR_READ_FREQ` VARCHAR(6) NULL,
  `MTR_MFG` VARCHAR(9) NULL,
  PRIMARY KEY (`METER_ID`))
ENGINE = InnoDB DEFAULT CHARSET=utf8;


-- -----------------------------------------------------
-- Table `SERVICE_POINT`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SERVICE_POINT` (
  `SERVICE_POINT_ID` VARCHAR(10) NOT NULL,
  `PREMISE_ID` VARCHAR(45) NOT NULL,
  `STATUS` VARCHAR(10) NULL,
  `START_DATE` DATETIME NULL,
  `END_DATE` DATETIME NULL,
  `NAICS` VARCHAR(10) NULL,
  `SUBSTATION` VARCHAR(40) NULL,
  `FEEDER` VARCHAR(254) NULL,
  `ELEC_USAGE_NONRES` VARCHAR(15) NULL,
  `METER_ID` VARCHAR(45) NOT NULL,
  `OPERATION_AREA` VARCHAR(61) NULL,
  `CUSTOMER_MDMA_COMPANY_NAME` VARCHAR(257) NULL,
  `CUSTOMER_MSP_COMPANY_NAME` VARCHAR(257) NULL,
  `CUST_METER_READ_CYCLE12` VARCHAR(1) NULL,
  `CUST_SERVICE_VOLTAGE_CLASS` VARCHAR(13) NULL,
  `SERVICE_TYPE` VARCHAR(1) NULL,
  `CIRCUIT_NUMBER` VARCHAR(5) NULL,
  `SUB_STATION_NUMBER` VARCHAR(6) NULL,
  `SOURCE_SIDE_DEVICE_NUMBER` VARCHAR(26) NULL,
  `LATITUDE` VARCHAR(51) NULL,
  `LONGITUDE` VARCHAR(51) NULL,
  `TRFMR_NUMBER` VARCHAR(51) NULL,
  `TRFMR_BDG_NUMBER` VARCHAR(31) NULL,
  `ROB_CODE` VARCHAR(31) NULL,
  PRIMARY KEY (`SERVICE_POINT_ID`),
  INDEX `fk_SERVICE_POINT_PREMISE1_idx` (`PREMISE_ID` ASC),
  INDEX `fk_SERVICE_POINT_METER1_idx` (`METER_ID` ASC),
  CONSTRAINT `fk_SERVICE_POINT_PREMISE1`
    FOREIGN KEY (`PREMISE_ID`)
    REFERENCES `PREMISE` (`PREMISE_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SERVICE_POINT_METER1`
    FOREIGN KEY (`METER_ID`)
    REFERENCES `METER` (`METER_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB DEFAULT CHARSET=utf8;


-- -----------------------------------------------------
-- Table `AGREEMENT_POINT_MAP`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `AGREEMENT_POINT_MAP` (
  `SERVICE_POINT_ID` VARCHAR(10) NOT NULL,
  `SERVICE_AGREEMENT_ID` VARCHAR(10) NOT NULL,
  `START_DATE` DATETIME NULL,
  `END_DATE` DATETIME NULL,
  `SA_SP_ID` VARCHAR(11) NULL,
  INDEX `fk_AGREEMENT_POINT_MAP_SERVICE_POINT1_idx` (`SERVICE_POINT_ID` ASC),
  INDEX `fk_AGREEMENT_POINT_MAP_SERVICE_AGREEMENT1_idx` (`SERVICE_AGREEMENT_ID` ASC),
  PRIMARY KEY (`SERVICE_POINT_ID`, `SERVICE_AGREEMENT_ID`),
  CONSTRAINT `fk_AGREEMENT_POINT_MAP_SERVICE_POINT1`
    FOREIGN KEY (`SERVICE_POINT_ID`)
    REFERENCES `SERVICE_POINT` (`SERVICE_POINT_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_AGREEMENT_POINT_MAP_SERVICE_AGREEMENT1`
    FOREIGN KEY (`SERVICE_AGREEMENT_ID`)
    REFERENCES `SERVICE_AGREEMENT` (`SERVICE_AGREEMENT_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB DEFAULT CHARSET=utf8;


-- -----------------------------------------------------
-- Table `CUSTOMER_NOTIFICATION_PREFERENCE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CUSTOMER_NOTIFICATION_PREFERENCE` (
  `CUSTOMER_NOTIFICATION_PREFERENCE_ID` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `UNIQ_SA_ID` VARCHAR(10) NULL,
  `SA_ID` VARCHAR(10) NULL,
  `PERSON_ID` VARCHAR(10) NULL,
  `NOTIFICATION_PROGRAM` VARCHAR(30) NULL,
  `NOTIFICATION_TYPE_ID` VARCHAR(12) NULL,
  `NOTIFICATION_VALUE` VARCHAR(254) NULL,
  `NOTIFICATION_LANGUAGE` VARCHAR(15) NULL,
  `NOTIFICATION_DNC_FLAG` TINYINT(1) NULL,
  `START_DATE` DATETIME NULL,
  `END_DATE` DATETIME NULL,
  `PHONE_EXTENSION` VARCHAR(25) NULL,
  PRIMARY KEY (`CUSTOMER_NOTIFICATION_PREFERENCE_ID`))
ENGINE = InnoDB DEFAULT CHARSET=utf8;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
